---
import { supportedLanguagesArray } from '@/features/i18n/supportedLanguages';
import { getSlugForFile } from '@/features/router/getSlugForFile';
import { universalPages } from '@/features/router/pages';

export const getStaticPaths = async () => {
  const staticPaths = [];
  const pages = Object.values(universalPages);

  for (const page of pages) {
    const slug = getSlugForFile(page.file);

    supportedLanguagesArray.forEach(lang => {
      staticPaths.push({
        params: { lang, slug },
        props: { Component: page }
      })
    });
  }

  return staticPaths;
}

const { Component } = Astro.props;

---
<Component.default  />
