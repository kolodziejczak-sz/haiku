---
import { parseLink } from '@/features/router/parseLink';
import { getProps } from '@/features/utils/getProps';

export interface Props {
  to: string;
  lang?: string;
  [key: string]: any;
}

const { to, lang, children, ...restProps } = getProps<Props>(Astro);
const url = parseLink(Astro, to, lang);
const isExternal = url.startsWith('http');

---
<a {...restProps} href={url} target={isExternal ? '_blank' : undefined}>
  <slot />
</a>
